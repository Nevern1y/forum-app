# Real-time Features Guide

## ðŸš€ Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

### 1. **Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² header** ðŸ””
- ÐšÐ¾Ð»Ð¾ÐºÐ¾Ð»ÑŒÑ‡Ð¸Ðº Ñ badge Ð½ÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ…
- Ð’ÑÐ¿Ð»Ñ‹Ð²Ð°ÑŽÑ‰Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ ÑÐ¿Ð¸ÑÐºÐ¾Ð¼ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
- Real-time Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ (Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾Ðµ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ…)
- ÐŸÐ¾Ð¼ÐµÑ‚ÐºÐ° ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ/ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ
- Toast ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…

**ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:**
- `components/notifications/notification-bell.tsx`
- `components/notifications/notification-list.tsx`
- `lib/api/notifications.ts`

**Ð¢Ð¸Ð¿Ñ‹ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹:**
- `friend_request` - Ð½Ð¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð² Ð´Ñ€ÑƒÐ·ÑŒÑ
- `friend_accepted` - Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¿Ñ€Ð¸Ð½ÑÑ‚
- `new_message` - Ð½Ð¾Ð²Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
- `post_shared` - Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»Ð¸ÑÑŒ Ð¿Ð¾ÑÑ‚Ð¾Ð¼
- `post_like` - Ð»Ð°Ð¹Ðº Ð½Ð° Ð¿Ð¾ÑÑ‚
- `post_comment` - ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹
- `comment_reply` - Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹

### 2. **Real-time ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ** ðŸ’¬
- ÐœÐ³Ð½Ð¾Ð²ÐµÐ½Ð½Ð°Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ð¾Ð¼ÐµÑ‚ÐºÐ° ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ
- ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹
- ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ° Ð½Ð° ÐºÐ°Ð½Ð°Ð» Ð±ÐµÑÐµÐ´Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Supabase Realtime

**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
```typescript
// ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ° Ð½Ð° Ð½Ð¾Ð²Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ð±ÐµÑÐµÐ´Ðµ
supabase
  .channel(`conversation:${conversationId}`)
  .on("postgres_changes", {
    event: "INSERT",
    schema: "public",
    table: "direct_messages",
    filter: `conversation_id=eq.${conversationId}`,
  }, async (payload) => {
    // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
  })
  .subscribe()
```

### 3. **ÐžÐ½Ð»Ð°Ð¹Ð½-ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹** ðŸŸ¢
- Ð—ÐµÐ»ÐµÐ½Ð°Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ñ€ÑÐ´Ð¾Ð¼ Ñ Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð¾Ð¼
- ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð²:
  - Ð¡Ð¿Ð¸ÑÐºÐµ Ð´Ñ€ÑƒÐ·ÐµÐ¹
  - Ð¡Ð¿Ð¸ÑÐºÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
  - ÐžÐºÐ½Ðµ Ñ‡Ð°Ñ‚Ð°
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 30 ÑÐµÐºÑƒÐ½Ð´
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· Supabase Presence API

**ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:**
- `components/presence/online-indicator.tsx`
- `components/presence/presence-provider.tsx`
- `lib/api/presence.ts`

**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
```typescript
// Ð¢Ñ€Ð°Ð½ÑÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ²Ð¾ÐµÐ³Ð¾ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ñ
const channel = supabase.channel("online-users")
await channel.track({
  user_id: user.id,
  online_at: new Date().toISOString(),
})
```

### 4. **Typing indicators** âŒ¨ï¸
- "ÐŸÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚..." Ñ Ð°Ð½Ð¸Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¾Ñ‡ÐºÐ°Ð¼Ð¸
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· 3 ÑÐµÐºÑƒÐ½Ð´Ñ‹
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· Supabase Broadcast

**ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:**
- `components/messages/typing-indicator.tsx`

**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
```typescript
// ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ð½Ð¸Ñ
channel.send({
  type: "broadcast",
  event: "typing",
  payload: { user_id: currentUserId },
})
```

---

## ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Supabase Realtime

### 1. **Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Realtime Ð² Supabase Dashboard**
1. ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Settings â†’ API
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Realtime Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½
3. Ð’ Database â†’ Replication Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´Ð»Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†:
   - `direct_messages`
   - `notifications`
   - `friendships`

### 2. **Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹**
**Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½:**
- 200 Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹
- 2GB bandwidth/Ð¼ÐµÑÑÑ†

**Pro Ð¿Ð»Ð°Ð½ ($25/Ð¼ÐµÑ):**
- 500 Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹
- 10GB bandwidth/Ð¼ÐµÑÑÑ†

---

## ðŸ“Š ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

### **Optimizations:**

1. **ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ¸**
   - âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð¿Ð¸ÑÐºÐ° Ð¿Ñ€Ð¸ unmount
   - âœ… ÐžÐ´Ð¸Ð½ ÐºÐ°Ð½Ð°Ð» Ð½Ð° ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚
   - âœ… Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ Ð‘Ð”

2. **Broadcast**
   - âœ… Debounce Ð´Ð»Ñ typing indicators
   - âœ… Throttle Ð´Ð»Ñ presence updates (30 ÑÐµÐº)
   - âœ… ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ payload

3. **ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**
   - âœ… Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð´Ð»Ñ ÑÑ‡ÐµÑ‚Ñ‡Ð¸ÐºÐ¾Ð²
   - âœ… ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
   - âœ… Batch Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸

---

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### **1. Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ**
```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð´Ð²Ð° Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°
1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð² Ð´Ñ€ÑƒÐ·ÑŒÑ
2. Ð£ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ B Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð² ÐºÐ¾Ð»Ð¾ÐºÐ¾Ð»ÑŒÑ‡Ð¸ÐºÐµ
3. ÐšÐ»Ð¸Ðº Ð½Ð° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ â†’ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° /friends
```

### **2. Real-time ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ**
```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð´Ð²Ð° Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°
1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð¿Ð¸ÑˆÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
2. Ð£ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ B ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾
3. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð¼ÐµÑ‡Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ
```

### **3. ÐžÐ½Ð»Ð°Ð¹Ð½-ÑÑ‚Ð°Ñ‚ÑƒÑ**
```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð´Ð²Ð° Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°
1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð·Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð° ÑÐ°Ð¹Ñ‚
2. Ð£ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ B Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð·ÐµÐ»ÐµÐ½Ð°Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ñ€ÑÐ´Ð¾Ð¼ Ñ A
3. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ
4. Ð—ÐµÐ»ÐµÐ½Ð°Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· ~30 ÑÐµÐº
```

### **4. Typing indicator**
```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð´Ð²Ð° Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° Ð² Ñ‡Ð°Ñ‚Ðµ
1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ñ‚ÑŒ
2. Ð£ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ B Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ "Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚..."
3. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ A Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ
4. ÐÐ°Ð´Ð¿Ð¸ÑÑŒ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· 3 ÑÐµÐºÑƒÐ½Ð´Ñ‹
```

---

## ðŸ› Troubleshooting

### **Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð½Ðµ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚**
```typescript
// ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ
console.log("Channel status:", channel.state)

// ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹ Ð² Ð‘Ð”
SELECT * FROM pg_trigger WHERE tgname LIKE '%notification%'
```

### **ÐžÐ½Ð»Ð°Ð¹Ð½-ÑÑ‚Ð°Ñ‚ÑƒÑ Ð½Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ**
```typescript
// ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Presence API
const state = channel.presenceState()
console.log("Online users:", state)
```

### **Typing indicator Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚**
```typescript
// ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Broadcast
channel.on("broadcast", { event: "typing" }, (payload) => {
  console.log("Typing event:", payload)
})
```

---

## ðŸ“¦ Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

```json
{
  "@supabase/supabase-js": "^2.x.x"
}
```

**Ð’ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸:**
- âœ… Postgres Changes (INSERT/UPDATE/DELETE)
- âœ… Presence (Ð¾Ð½Ð»Ð°Ð¹Ð½-ÑÑ‚Ð°Ñ‚ÑƒÑ)
- âœ… Broadcast (typing indicators)

---

## ðŸš€ Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ðµ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ

**ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾:**
- [ ] Ð ÐµÐ°ÐºÑ†Ð¸Ð¸ Ð½Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ (ÑÐ¼Ð¾Ð´Ð·Ð¸)
- [ ] "Ð’Ð¸Ð´ÐµÐ» Ð²..." (last seen)
- [ ] Ð“Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ðµ Ñ‡Ð°Ñ‚Ñ‹
- [ ] Ð’Ð¸Ð´ÐµÐ¾/Ð°ÑƒÐ´Ð¸Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¸
- [ ] Screen sharing
- [ ] Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
- [ ] ÐŸÐµÑ€ÐµÑÑ‹Ð»ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
- [ ] Ð—Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ

---

## ðŸ’¡ Best Practices

1. **Ð’ÑÐµÐ³Ð´Ð° Ð¾Ñ‚Ð¿Ð¸ÑÑ‹Ð²Ð°Ð¹Ñ‚ÐµÑÑŒ Ð¾Ñ‚ ÐºÐ°Ð½Ð°Ð»Ð¾Ð²**
```typescript
useEffect(() => {
  const unsubscribe = subscribeToChannel()
  return unsubscribe
}, [])
```

2. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ Ð‘Ð”**
```typescript
filter: `user_id=eq.${userId}` // âœ… Ð‘Ñ‹ÑÑ‚Ñ€Ð¾
// vs
.filter(msg => msg.user_id === userId) // âŒ ÐœÐµÐ´Ð»ÐµÐ½Ð½Ð¾
```

3. **Batch Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ**
```typescript
// âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾
setMessages(prev => [...prev, newMessage])

// âŒ ÐŸÐ»Ð¾Ñ…Ð¾ (Ð»Ð¸ÑˆÐ½Ð¸Ðµ re-renders)
setMessages([...messages, newMessage])
```

4. **Debounce expensive Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸**
```typescript
const debouncedTyping = useMemo(
  () => debounce(broadcastTyping, 300),
  []
)
```

---

**Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!** Real-time Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹ Ðº production. ðŸŽ‰
